<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Module eipmi</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module eipmi</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#types">Data Types</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>
   The main entry module of the <code>eipmi</code> application containing the application   
callback as well as the top level supervisor.

<p><b>Behaviours:</b> <a href="application.html"><tt>application</tt></a>, <a href="supervisor.html"><tt>supervisor</tt></a>.</p>

<h2><a name="description">Description</a></h2><p>
   The main entry module of the <code>eipmi</code> application containing the application   
callback as well as the top level supervisor.</p>
  
   This module provides capabilities to discover and use IPMI-capable devices.
   The <a href="eipmi_session.html"><code>eipmi_session</code></a> module provides a IPMI session implementation that
   is able to send requests and receive responses implemented in the
   <a href="eipmi_request.html"><code>eipmi_request</code></a> and <a href="eipmi_response.html"><code>eipmi_response</code></a> modules. Frontend API
   functions using a combination of several requests to provide a certain
   feature should be put here.
<h2><a name="types">Data Types</a></h2>

<h3 class="typedecl"><a name="type-device_info">device_info()</a></h3>
<p><tt>device_info() = [{device_id, non_neg_integer()} | {device_revision, non_neg_integer()} | {operation, normal | progress} | {firmware_version, string()} | {ipmi_version, string()} | {device_support, [<a href="#type-device_support">device_support()</a>]} | {manufacturer_id, non_neg_integer()} | {product_id, non_neg_integer()}]</tt></p>


<h3 class="typedecl"><a name="type-device_support">device_support()</a></h3>
<p><tt>device_support() = chassis | bridge | event_generator | event_receiver | fru_inventory | sel | sdr | sensor</tt></p>


<h3 class="typedecl"><a name="type-fru_info">fru_info()</a></h3>
<p><tt>fru_info() = <a href="eipmi_fru.html#type-info">eipmi_fru:info()</a></tt></p>


<h3 class="typedecl"><a name="type-fru_inventory">fru_inventory()</a></h3>
<p><tt>fru_inventory() = [<a href="#type-fru_info">fru_info()</a>]</tt></p>


<h3 class="typedecl"><a name="type-network_statistics">network_statistics()</a></h3>
<p><tt>network_statistics() = [{ip_packets_received, non_neg_integer()} | {ip_header_errors, non_neg_integer()} | {ip_address_errors, non_neg_integer()} | {ip_fragmented_packets_received, non_neg_integer()} | {ip_packets_transmitted, non_neg_integer()} | {udp_packets_received, non_neg_integer()} | {udp_proxy_packets_received, non_neg_integer()} | {udp_proxy_packets_dropped, non_neg_integer()} | {rmcp_packets_received, non_neg_integer()}]</tt></p>


<h3 class="typedecl"><a name="type-option">option()</a></h3>
<p><tt>option() = {initial_outbound_seq_nr, non_neg_integer()} | {keep_alive_retransmits, non_neg_integer()} | {password, string()} | {port, <a href="inet.html#type-port_number">inet:port_number()</a>} | {privilege, <a href="#type-privilege">privilege()</a>} | {rq_addr, 129..141} | {timeout, non_neg_integer()} | {user, string()}</tt></p>


<h3 class="typedecl"><a name="type-option_name">option_name()</a></h3>
<p><tt>option_name() = initial_outbound_seq_nr | keep_alive_retransmits | password | port | privilege | rq_addr | timeout | user</tt></p>


<h3 class="typedecl"><a name="type-picmg_address_info">picmg_address_info()</a></h3>
<p><tt>picmg_address_info() = [{mch_site_number, non_neg_integer()} | {ipmb_address, non_neg_integer()} | {fru_id, 0..254} | {site_number, non_neg_integer()} | {site_type, <a href="#type-picmg_site_type">picmg_site_type()</a>} | {carrier_number, non_neg_integer()}]</tt></p>


<h3 class="typedecl"><a name="type-picmg_fru_control">picmg_fru_control()</a></h3>
<p><tt>picmg_fru_control() = cold_reset | warm_reset | graceful_reboot | diagnostic_interrupt | quiesce</tt></p>


<h3 class="typedecl"><a name="type-picmg_properties">picmg_properties()</a></h3>
<p><tt>picmg_properties() = [{picmg_extension, string()} | {max_fru_id, 0..254} | {ipmc_fru_id, 0..254}]</tt></p>


<h3 class="typedecl"><a name="type-picmg_site_type">picmg_site_type()</a></h3>
<p><tt>picmg_site_type() = picmg_board | power_entry | shelf_fru_information | dedicated_shelf_management_controller | fan_tray | fan_filter_tray | alarm | amc | pmc | rear_transition_module | mch | power_module</tt></p>


<h3 class="typedecl"><a name="type-power_state">power_state()</a></h3>
<p><tt>power_state() = [{system, {s0_g0, working} | {s1, clocks_stopped} | {s2, clocks_stopped} | {s3, suspend_to_ram} | {s4, suspend_to_disk} | {s5_g2, soft_off} | {s4_s5, soft_off} | {g3, mechanical_off} | {s1_s2_s3, sleeping} | {g1, sleeping} | {s5, override} | legacy_on | legacy_off | unknown} | {device, d0 | d1 | d2 | d3 | unknown}]</tt></p>


<h3 class="typedecl"><a name="type-privilege">privilege()</a></h3>
<p><tt>privilege() = callback | user | operator | administrator</tt></p>


<h3 class="typedecl"><a name="type-repository_info">repository_info()</a></h3>
<p><tt>repository_info() = [{version, string()} | {entries, non_neg_integer()} | {free_space, non_neg_integer()} | {most_recent_addition, non_neg_integer()} | {most_recent_erase, non_neg_integer()} | {overflow, boolean()} | {operations, [delete | partial_add | reserve | get_allocation_info]}]</tt></p>


<h3 class="typedecl"><a name="type-req_net_fn">req_net_fn()</a></h3>
<p><tt>req_net_fn() = '?IPMI_NETFN_SENSOR_EVENT_REQUEST' | '?IPMI_NETFN_APPLICATION_REQUEST' | '?IPMI_NETFN_STORAGE_REQUEST' | '?IPMI_NETFN_TRANSPORT_REQUEST' | '?IPMI_NETFN_PICMG_REQUEST'</tt></p>


<h3 class="typedecl"><a name="type-request">request()</a></h3>
<p><tt>request() = {<a href="#type-req_net_fn">req_net_fn()</a>, Command::0..255}</tt></p>


<h3 class="typedecl"><a name="type-resp_net_fn">resp_net_fn()</a></h3>
<p><tt>resp_net_fn() = '?IPMI_NETFN_SENSOR_EVENT_RESPONSE' | '?IPMI_NETFN_APPLICATION_RESPONSE' | '?IPMI_NETFN_STORAGE_RESPONSE' | '?IPMI_NETFN_TRANSPORT_RESPONSE' | '?IPMI_NETFN_PICMG_RESPONSE'</tt></p>


<h3 class="typedecl"><a name="type-response">response()</a></h3>
<p><tt>response() = {<a href="#type-resp_net_fn">resp_net_fn()</a>, Command::0..255}</tt></p>


<h3 class="typedecl"><a name="type-sdr">sdr()</a></h3>
<p><tt>sdr() = <a href="eipmi_sdr.html#type-entry">eipmi_sdr:entry()</a></tt></p>


<h3 class="typedecl"><a name="type-sdr_info">sdr_info()</a></h3>
<p><tt>sdr_info() = <a href="#type-repository_info">repository_info()</a></tt></p>


<h3 class="typedecl"><a name="type-sdr_repository">sdr_repository()</a></h3>
<p><tt>sdr_repository() = [<a href="#type-sdr">sdr()</a>]</tt></p>


<h3 class="typedecl"><a name="type-sel_entry">sel_entry()</a></h3>
<p><tt>sel_entry() = <a href="eipmi_sel.html#type-entry">eipmi_sel:entry()</a></tt></p>


<h3 class="typedecl"><a name="type-sel_info">sel_info()</a></h3>
<p><tt>sel_info() = <a href="#type-repository_info">repository_info()</a></tt></p>


<h3 class="typedecl"><a name="type-self_test">self_test()</a></h3>
<p><tt>self_test() = [{result, self_tests_passed | self_tests_not_implemented | {{corrupted_devices, [sel | sdr | fru | ipmb_signal_lines]}, {inaccessible_devices, [sdr | fru | boot_firmware | optional_firmware]}} | {fatal_hardware_error, non_neg_integer()}, {device_specific_error, non_neg_integer(), non_neg_integer()}}]</tt></p>


<h3 class="typedecl"><a name="type-session">session()</a></h3>
<p><tt>session() = {session, <a href="#type-target">target()</a>, reference()}</tt></p>


<h3 class="typedecl"><a name="type-target">target()</a></h3>
<p><tt>target() = {<a href="inet.html#type-ip_address">inet:ip_address()</a> | <a href="inet.html#type-hostname">inet:hostname()</a>, <a href="inet.html#type-port_number">inet:port_number()</a>}</tt></p>


<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#add_handler-2">add_handler/2</a></td><td>
  Registers/adds a handler for session related events.</td></tr>
<tr><td valign="top"><a href="#add_sup_handler-2">add_sup_handler/2</a></td><td>
  Basically the same than <a href="#add_handler-2"><code>add_handler/2</code></a> but with supervised
  subscription as described by <a href="gen_event.html#add_sup_handler-3"><code>gen_event:add_sup_handler/3</code></a>.</td></tr>
<tr><td valign="top"><a href="#clear_sel-1">clear_sel/1</a></td><td>
  Clears all current records from the System Event Log (SEL).</td></tr>
<tr><td valign="top"><a href="#close-1">close/1</a></td><td>
  Closes an IPMI session previously opened with <a href="#open-1"><code>open/1</code></a> or
  <a href="#open-2"><code>open/2</code></a>.</td></tr>
<tr><td valign="top"><a href="#cold_reset-1">cold_reset/1</a></td><td>
  Will issue a 'Cold Reset' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#delete_handler-2">delete_handler/2</a></td><td>
  Unregisters/removes a handler for session related events previously added
  using <a href="#add_handler-2"><code>add_handler/2</code></a> or <a href="#add_sup_handler-2"><code>add_sup_handler/2</code></a>.</td></tr>
<tr><td valign="top"><a href="#fru_control-3">fru_control/3</a></td><td>
  Will issue a PICMG 'FRU Control' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_acpi_power_state-1">get_acpi_power_state/1</a></td><td>
  Will issue a 'Get ACPI Power State' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_address_info-1">get_address_info/1</a></td><td>
  Will issue a PICMG 'Get Address Info' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_address_info-2">get_address_info/2</a></td><td>
  Will issue a PICMG 'Get Address Info' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_address_info-3">get_address_info/3</a></td><td>
  Will issue a PICMG 'Get Address Info' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_device_guid-1">get_device_guid/1</a></td><td>
  Will issue a 'Get Device GUID' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_device_id-1">get_device_id/1</a></td><td>
  Will issue a 'Get Device Id' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_device_locator_record_id-2">get_device_locator_record_id/2</a></td><td>
  Will issue a PICMG 'Get Device Locator Record Id' request using the provided
  session.</td></tr>
<tr><td valign="top"><a href="#get_fru_activation_policy-2">get_fru_activation_policy/2</a></td><td>
  Will issue a PICMG 'Get FRU Activation Policy' request using the provided
  session.</td></tr>
<tr><td valign="top"><a href="#get_ip_udp_rmcp_statistics-2">get_ip_udp_rmcp_statistics/2</a></td><td>
  Will issue a 'Get IP/UDP/RMCP Statistics' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_picmg_properties-1">get_picmg_properties/1</a></td><td>
  Will issue a 'Get PICMG Properties' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_sdr-2">get_sdr/2</a></td><td>  
Return a specific record from the Sensor Data Record (SDR) Repository.</td></tr>
<tr><td valign="top"><a href="#get_sdr_repository-1">get_sdr_repository/1</a></td><td>  
Return all records contained in the Sensor Data Record (SDR) Repository.</td></tr>
<tr><td valign="top"><a href="#get_sdr_repository-2">get_sdr_repository/2</a></td><td>
  Basically the same as <a href="#read_sdr_repository-1"><code>read_sdr_repository/1</code></a> but the SDR will only be  
read when there were changes compared to the given SDR repository (regarding)  
modification timestamps.</td></tr>
<tr><td valign="top"><a href="#get_sdr_repository_info-1">get_sdr_repository_info/1</a></td><td>
  Will issue a 'Get SDR Repository Info' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_sel-2">get_sel/2</a></td><td>  
Return all currently available entries from the System Event Log (SEL).</td></tr>
<tr><td valign="top"><a href="#get_sel_info-1">get_sel_info/1</a></td><td>
  Will issue a 'Get SEL Info' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_self_test_results-1">get_self_test_results/1</a></td><td>
  Will issue a 'Get Self Test Results' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#get_system_guid-1">get_system_guid/1</a></td><td>
  Will issue a 'Get System GUID' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#open-1">open/1</a></td><td>
  Opens an IPMI session to a given host.</td></tr>
<tr><td valign="top"><a href="#open-2">open/2</a></td><td>
  Same as <a href="#open-1"><code>open/1</code></a> but allows the specification of the following custom
  options:
  <dl>
    <dt><code>{initial_outbound_seq_nr, non_neg_integer()}</code></dt>
    <dd>
      <p>
      The initial outbound sequence number that will be requested on the BMC,
      default is <code>16#1337</code>.
      </p>
   </dd>
    <dt><code>{keep_alive_retransmits, non_neg_integer()}</code></dt>
    <dd>
      <p>
      The number of retransmits allowed for session keep_alive requests,
      default is <code>2</code>.
      </p>
   </dd>
    <dt><code>{password, string() with length &lt;= 16bytes}</code></dt>
    <dd>
      <p>
      A password string used for authentication when anonymous login is not
      available, default is <code>""</code>.
      </p>
    </dd>
    <dt><code>{port, inet:port_number()}</code></dt>
    <dd>
      <p>
      The RMCP port the far end is expecting incoming RMCP and IPMI packets,
      default is <code>623</code>.
      </p>
    </dd>
    <dt><code>{privilege, callback | user | operator | administrator}</code></dt>
    <dd>
      <p>
      The requested privilege level for this session, default is
      <code>administrator</code>.
      </p>
    </dd>
    <dt><code>{rq_addr, 16#81..16#8d}</code></dt>
    <dd>
      <p>
      The requestor address used in IPMI lan packages, the default value of
      <code>16#81</code> should be suitable for all common cases.
      </p>
    </dd>
    <dt><code>{timeout, non_neg_integer()}</code></dt>
    <dd>
      <p>
      The timeout for IPMI requests, default is <code>1000ms</code>.
      </p>
    </dd>
    <dt><code>{user, string() with length &lt;= 16bytes}</code></dt>
    <dd>
      <p>
      A user name string used for authentication when neither anonymous nor
      null user login are available, default is <code>""</code>.
      </p>
    </dd>
  </dl></td></tr>
<tr><td valign="top"><a href="#ping-1">ping/1</a></td><td>
  Pings a given host using RMCP ping.</td></tr>
<tr><td valign="top"><a href="#ping-2">ping/2</a></td><td>
  Same as <a href="#ping-1"><code>ping/1</code></a> but allows the specification of a custom receive
  timeout value in milliseconds.</td></tr>
<tr><td valign="top"><a href="#poll_sel-1">poll_sel/1</a></td><td>
  Will start a dedicated server that polls the system event log using a
  specific session every 500ms.</td></tr>
<tr><td valign="top"><a href="#poll_sel-3">poll_sel/3</a></td><td>
  Basically the same as <a href="#poll_sel-1"><code>poll_sel/1</code></a> but allows the specification of the
  <code>Interval</code> and <code>Clear</code> options.</td></tr>
<tr><td valign="top"><a href="#raw-4">raw/4</a></td><td>
  Sends a raw IPMI command over a given session.</td></tr>
<tr><td valign="top"><a href="#read_fru-2">read_fru/2</a></td><td>
  Return the FRU inventory data for a specific FRU id.</td></tr>
<tr><td valign="top"><a href="#read_fru_inventory-2">read_fru_inventory/2</a></td><td>
  Return the FRU inventory data for all FRU represented by a FRU Device Locator
  Record in the Sensor Data Record (SDR) Repository.</td></tr>
<tr><td valign="top"><a href="#read_frus-2">read_frus/2</a></td><td>
  Basically the same than <a href="#read_fru-2"><code>read_fru/2</code></a> but allows to read a list of FRU
  ids.</td></tr>
<tr><td valign="top"><a href="#sdr_to_fru-2">sdr_to_fru/2</a></td><td>
  Returns the FRU Device Locator Record associated with a specific sensor from
  the Sensor Data Record (SDR) repository, if any.</td></tr>
<tr><td valign="top"><a href="#sdr_to_fru-3">sdr_to_fru/3</a></td><td>
  Returns the FRU inventory data associated with a specific sensor from the
  Sensor Data Record (SDR) repository, if any.</td></tr>
<tr><td valign="top"><a href="#sel_to_fru-2">sel_to_fru/2</a></td><td>
  Returns the FRU Device Locator Record associated with an entry in the System
  Event Log (SEL), if any.</td></tr>
<tr><td valign="top"><a href="#sel_to_fru-3">sel_to_fru/3</a></td><td>
  Returns the FRU inventory data associated with an entry in the System
  Event Log (SEL), if any.</td></tr>
<tr><td valign="top"><a href="#sel_to_sdr-2">sel_to_sdr/2</a></td><td>
  Returns the Sensor Data Record (SDR) from the SDR repository associated with
  an entry in the System Event Log (SEL), if any.</td></tr>
<tr><td valign="top"><a href="#set_fru_activation-3">set_fru_activation/3</a></td><td>
  Will issue a PICMG 'Set FRU Activation' request using the provided session.</td></tr>
<tr><td valign="top"><a href="#set_fru_activation_policy-3">set_fru_activation_policy/3</a></td><td>
  Will issue a PICMG 'Set FRU Activation Policy' request using the provided
  session.</td></tr>
<tr><td valign="top"><a href="#set_session_privilege_level-2">set_session_privilege_level/2</a></td><td>
  Will issue a 'Set Session Privilege Level' request using the provided
  session.</td></tr>
<tr><td valign="top"><a href="#start-0">start/0</a></td><td>
  Starts the <code>eipmi</code> applications along with all its depdendent applications.</td></tr>
<tr><td valign="top"><a href="#stats-0">stats/0</a></td><td>
  Returns statistical information about the currently opened sessions and the
  registered event handlers.</td></tr>
<tr><td valign="top"><a href="#warm_reset-1">warm_reset/1</a></td><td>
  Will issue a 'Warm Reset' request using the provided session.</td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="add_handler-2">add_handler/2</a></h3>
<div class="spec">
<p><tt>add_handler(Handler::module() | {module(), term()}, Args::term()) -&gt; ok | {error, term()}</tt><br></p>
</div><p>
  Registers/adds a handler for session related events. The handler module must
  implement the <a href="gen_event.html"><code>gen_event</code></a> behaviour. For more information on the
  arguments <code>Handler</code> and <code>Args</code> refer to <a href="gen_event.html#add_handler-3"><code>gen_event:add_handler/3</code></a>.
  The event handling module should be prepared to receive the following events
  on the <code>handle_event/2</code> callback:
  <dl>
    <dt>
      <code>{ipmi,
        Session :: session(),
        Address :: inet:ip_address() | inet:hostname(),
        established}</code>
    </dt>
    <dd>
      <p>the session was successfully established and activated</p>
    </dd>
    <dt>
      <code>{ipmi,
        Session :: session(),
        Address :: inet:ip_address() | inet:hostname(),
        {closed, Reason :: term()}}</code>
    </dt>
    <dd>
      <p>the session was closed with the provided reason</p>
    </dd>
    <dt>
      <code>{ipmi,
        Session :: session(),
        Address :: inet:ip_address() | inet:hostname(),
        {decode_error, Reason :: term()}}</code>
    </dt>
    <dd>
      <p>a received packet could not be decoded</p>
    </dd>
    <dt>
      <code>{ipmi,
        Session :: session(),
        Address :: inet:ip_address() | inet:hostname(),
        {timeout, RqSeqNr :: 0..63}}</code>
    </dt>
    <dd>
      <p>the corresponding request timed out</p>
    </dd>
    <dt>
      <code>{ipmi,
        Session :: session(),
        Address :: inet:ip_address() | inet:hostname(),
        {unhandled, {call, term()}}}</code>
    </dt>
    <dd>
      <p>the session received an invalid <code>gen_server</code> call</p>
    </dd>
    <dt>
      <code>{ipmi,
        Session :: session(),
        Address :: inet:ip_address() | inet:hostname(),
        {unhandled, {cast, term()}}}</code>
    </dt>
    <dd>
      <p>the session received an invalid <code>gen_server</code> cast</p>
    </dd>
    <dt>
      <code>{ipmi,
        Session :: session(),
        Address :: inet:ip_address() | inet:hostname(),
        {unhandled, {info, term()}}}</code>
    </dt>
    <dd>
      <p>the session received an invalid message</p>
    </dd>
    <dt>
      <code>{ipmi,
        Session :: session(),
        Address :: inet:ip_address() | inet:hostname(),
        {unhandled, {ipmi, {ok | error, term()}}}}</code>
    </dt>
    <dd>
      <p>the session received an IPMI response but no handler was found for it</p>
    </dd>
    <dt>
      <code>{ipmi,
        Session :: session(),
        Address :: inet:ip_address() | inet:hostname(),
        SELEntry :: sel_entry()}</code>
    </dt>
    <dd>
      <p>
        a SEL event forwarded through the automatic SEL polling mechanism
      </p>
    </dd>
  </dl></p>

<h3 class="function"><a name="add_sup_handler-2">add_sup_handler/2</a></h3>
<div class="spec">
<p><tt>add_sup_handler(Handler::module() | {module(), term()}, Args::term()) -&gt; ok | {error, term()}</tt><br></p>
</div><p>
  Basically the same than <a href="#add_handler-2"><code>add_handler/2</code></a> but with supervised
  subscription as described by <a href="gen_event.html#add_sup_handler-3"><code>gen_event:add_sup_handler/3</code></a>.</p>

<h3 class="function"><a name="clear_sel-1">clear_sel/1</a></h3>
<div class="spec">
<p><tt>clear_sel(Session::<a href="#type-session">session()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>
  Clears all current records from the System Event Log (SEL).</p>

<h3 class="function"><a name="close-1">close/1</a></h3>
<div class="spec">
<p><tt>close(Session::<a href="eipmi.html#type-session">eipmi:session()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>
  Closes an IPMI session previously opened with <a href="#open-1"><code>open/1</code></a> or
  <a href="#open-2"><code>open/2</code></a>. This will return <code>{error, no_session}</code> when the given
  session is not active any more.</p>

<h3 class="function"><a name="cold_reset-1">cold_reset/1</a></h3>
<div class="spec">
<p><tt>cold_reset(Session::<a href="#type-session">session()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Cold Reset' request using the provided session. This will
  perform a power cycle of the connected device!</p>

<h3 class="function"><a name="delete_handler-2">delete_handler/2</a></h3>
<div class="spec">
<p><tt>delete_handler(Handler::module() | {module(), term()}, Args::term()) -&gt; term()</tt><br></p>
</div><p>
  Unregisters/removes a handler for session related events previously added
  using <a href="#add_handler-2"><code>add_handler/2</code></a> or <a href="#add_sup_handler-2"><code>add_sup_handler/2</code></a>. For more
  information refer to on the arguments <a href="gen_event.html#delete_handler-3"><code>gen_event:delete_handler/3</code></a>.</p>

<h3 class="function"><a name="fru_control-3">fru_control/3</a></h3>
<div class="spec">
<p><tt>fru_control(Session::<a href="#type-session">session()</a>, FruId::0..254, Action::<a href="#type-picmg_fru_control">picmg_fru_control()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>
  Will issue a PICMG 'FRU Control' request using the provided session. This can
  be used to power cycle, reset, etc. the requested FRU.</p>

<h3 class="function"><a name="get_acpi_power_state-1">get_acpi_power_state/1</a></h3>
<div class="spec">
<p><tt>get_acpi_power_state(Session::<a href="#type-session">session()</a>) -&gt; {ok, <a href="#type-power_state">power_state()</a>} | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Get ACPI Power State' request using the provided session.</p>

<h3 class="function"><a name="get_address_info-1">get_address_info/1</a></h3>
<div class="spec">
<p><tt>get_address_info(Session::<a href="#type-session">session()</a>) -&gt; {ok, <a href="#type-picmg_address_info">picmg_address_info()</a>} | {error, term()}</tt><br></p>
</div><p>
  Will issue a PICMG 'Get Address Info' request using the provided session.
  This version will return addressing info of the implementing MCMC.</p>

<h3 class="function"><a name="get_address_info-2">get_address_info/2</a></h3>
<div class="spec">
<p><tt>get_address_info(Session::<a href="#type-session">session()</a>, FruId::0..254) -&gt; {ok, <a href="#type-picmg_address_info">picmg_address_info()</a>} | {error, term()}</tt><br></p>
</div><p>
  Will issue a PICMG 'Get Address Info' request using the provided session.
  This version will return addressing info associated with the requested FRU.</p>

<h3 class="function"><a name="get_address_info-3">get_address_info/3</a></h3>
<div class="spec">
<p><tt>get_address_info(Session::<a href="#type-session">session()</a>, SiteType::0..254, SiteNumber::<a href="#type-picmg_site_type">picmg_site_type()</a>) -&gt; {ok, <a href="#type-picmg_address_info">picmg_address_info()</a>} | {error, term()}</tt><br></p>
</div><p>
  Will issue a PICMG 'Get Address Info' request using the provided session.
  This version will return addressing info associated with the requested site.</p>

<h3 class="function"><a name="get_device_guid-1">get_device_guid/1</a></h3>
<div class="spec">
<p><tt>get_device_guid(Session::<a href="#type-session">session()</a>) -&gt; {ok, [{guid, string()}]} | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Get Device GUID' request using the provided session.</p>

<h3 class="function"><a name="get_device_id-1">get_device_id/1</a></h3>
<div class="spec">
<p><tt>get_device_id(Session::<a href="#type-session">session()</a>) -&gt; {ok, <a href="#type-device_info">device_info()</a>} | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Get Device Id' request using the provided session.</p>

<h3 class="function"><a name="get_device_locator_record_id-2">get_device_locator_record_id/2</a></h3>
<div class="spec">
<p><tt>get_device_locator_record_id(Session::<a href="#type-session">session()</a>, FruId::0..254) -&gt; {ok, [{record_id, non_neg_integer()}]} | {error, term()}</tt><br></p>
</div><p>
  Will issue a PICMG 'Get Device Locator Record Id' request using the provided
  session. This can be used to retrieve the record id of a 'FRU Device Locator
  Record' for a specific FRU. Having this idea makes it possible to read this
  record directly using <a href="#get_sdr-2"><code>get_sdr/2</code></a>.</p>

<h3 class="function"><a name="get_fru_activation_policy-2">get_fru_activation_policy/2</a></h3>
<div class="spec">
<p><tt>get_fru_activation_policy(Session::<a href="#type-session">session()</a>, FruId::0..254) -&gt; {ok, [{locked, boolean()} | {deactivation_locked, boolean()}]} | {error, term()}</tt><br></p>
</div><p>
  Will issue a PICMG 'Get FRU Activation Policy' request using the provided
  session.</p>

<h3 class="function"><a name="get_ip_udp_rmcp_statistics-2">get_ip_udp_rmcp_statistics/2</a></h3>
<div class="spec">
<p><tt>get_ip_udp_rmcp_statistics(Session::<a href="#type-session">session()</a>, Clear::boolean()) -&gt; {ok, <a href="#type-network_statistics">network_statistics()</a>} | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Get IP/UDP/RMCP Statistics' request using the provided session.
  The statistics can optionally be cleared.</p>

<h3 class="function"><a name="get_picmg_properties-1">get_picmg_properties/1</a></h3>
<div class="spec">
<p><tt>get_picmg_properties(Session::<a href="#type-session">session()</a>) -&gt; {ok, <a href="#type-picmg_properties">picmg_properties()</a>} | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Get PICMG Properties' request using the provided session. This
  will return the (current) highest used FRU Id and the supported PICMG
  extension (amongst others).</p>

<h3 class="function"><a name="get_sdr-2">get_sdr/2</a></h3>
<div class="spec">
<p><tt>get_sdr(Session::<a href="#type-session">session()</a>, RecordId::non_neg_integer()) -&gt; {ok, <a href="#type-sdr">sdr()</a>} | {error, term()}</tt><br></p>
</div><p><p>  
Return a specific record from the Sensor Data Record (SDR) Repository.</p>
 
  Reading of the SDR may fail (e.g. return <code>{error, term()}</code>) when the
  reservation for SDR reading with non-zero offsets gets cancelled. This is not
  a severe error. It is most likely that the SDR can be read successfully when
  retried.</p>

<h3 class="function"><a name="get_sdr_repository-1">get_sdr_repository/1</a></h3>
<div class="spec">
<p><tt>get_sdr_repository(Session::<a href="#type-session">session()</a>) -&gt; {ok, <a href="#type-sdr_repository">sdr_repository()</a>} | {error, term()}</tt><br></p>
</div><p><p>  
Return all records contained in the Sensor Data Record (SDR) Repository.  
Please note that reading the complete SDR repository may take a significant  
amount of time since there may be lots of sensor available.</p>
 
  Reading of the SDR may fail (e.g. return <code>{error, term()}</code>) when the
  reservation for SDR reading with non-zero offsets gets cancelled. This is not
  a severe error. It is most likely that the SDR can be read successfully when
  retried.</p>

<h3 class="function"><a name="get_sdr_repository-2">get_sdr_repository/2</a></h3>
<div class="spec">
<p><tt>get_sdr_repository(Session::<a href="#type-session">session()</a>, Previous::<a href="#type-sdr_repository">sdr_repository()</a>) -&gt; {ok, <a href="#type-sdr_repository">sdr_repository()</a>} | {error, term()}</tt><br></p>
</div><p><p>
  Basically the same as <a href="#read_sdr_repository-1"><code>read_sdr_repository/1</code></a> but the SDR will only be  
read when there were changes compared to the given SDR repository (regarding)  
modification timestamps. In case the SDR repository did not receive any  
updates the given old SDR repository is returned.</p>
 
  Reading of the SDR may fail (e.g. return <code>{error, term()}</code>) when the
  reservation for SDR reading with non-zero offsets gets cancelled. This is not
  a severe error. It is most likely that the SDR can be read successfully when
  retried.</p>

<h3 class="function"><a name="get_sdr_repository_info-1">get_sdr_repository_info/1</a></h3>
<div class="spec">
<p><tt>get_sdr_repository_info(Session::<a href="#type-session">session()</a>) -&gt; {ok, <a href="#type-sdr_info">sdr_info()</a>} | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Get SDR Repository Info' request using the provided session.</p>

<h3 class="function"><a name="get_sel-2">get_sel/2</a></h3>
<div class="spec">
<p><tt>get_sel(Session::<a href="#type-session">session()</a>, Clear::boolean()) -&gt; {ok, [<a href="#type-sel_entry">sel_entry()</a>]} | {error, term()}</tt><br></p>
</div><p><p>  
Return all currently available entries from the System Event Log (SEL). The  
returned SEL entries are property lists that do only contain the available  
and checksum error free fields of the respective entry. Using the second  
argument the SEL can optionally be cleared after reading.</p>
 
  Clearing the SEL may fail in rare cases when the reservation for SEL
  clearance gets cancelled by the BMC. This will be ignored. However in this
  case the following read may return duplicates of already read events.</p>

<h3 class="function"><a name="get_sel_info-1">get_sel_info/1</a></h3>
<div class="spec">
<p><tt>get_sel_info(Session::<a href="#type-session">session()</a>) -&gt; {ok, <a href="#type-sel_info">sel_info()</a>} | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Get SEL Info' request using the provided session.</p>

<h3 class="function"><a name="get_self_test_results-1">get_self_test_results/1</a></h3>
<div class="spec">
<p><tt>get_self_test_results(Session::<a href="#type-session">session()</a>) -&gt; {ok, <a href="#type-self_test">self_test()</a>} | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Get Self Test Results' request using the provided session.</p>

<h3 class="function"><a name="get_system_guid-1">get_system_guid/1</a></h3>
<div class="spec">
<p><tt>get_system_guid(Session::<a href="#type-session">session()</a>) -&gt; {ok, [{guid, string()}]} | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Get System GUID' request using the provided session.</p>

<h3 class="function"><a name="open-1">open/1</a></h3>
<div class="spec">
<p><tt>open(IPAddress::<a href="inet.html#type-ip_address">inet:ip_address()</a> | <a href="inet.html#type-hostname">inet:hostname()</a>) -&gt; {ok, <a href="eipmi.html#type-session">eipmi:session()</a>} | {error, term()}</tt><br></p>
</div><p><p>
  Opens an IPMI session to a given host. With default parameters. Please note
  that this will only work for IPMI targets supporting anonymous login. For all
  other login types at least the <code>password</code> and maybe the <code>user</code> option will be  
required.</p>
 
  The returned handle can be used to send requests to the target BMC using one
  of the functions provided by this module (e.g. <a href="#raw-4"><code>raw/4</code></a>) or close the
  session using <a href="#close-1"><code>close/1</code></a>.</p>
<p><b>See also:</b> <a href="#close-1">close/1</a>, <a href="#open-2">open/2</a>.</p>

<h3 class="function"><a name="open-2">open/2</a></h3>
<div class="spec">
<p><tt>open(IPAddress::<a href="inet.html#type-ip_address">inet:ip_address()</a> | <a href="inet.html#type-hostname">inet:hostname()</a>, Options::[<a href="#type-option">option()</a>]) -&gt; {ok, <a href="eipmi.html#type-session">eipmi:session()</a>} | {error, term()}</tt><br></p>
</div><p>
  Same as <a href="#open-1"><code>open/1</code></a> but allows the specification of the following custom
  options:
  <dl>
    <dt><code>{initial_outbound_seq_nr, non_neg_integer()}</code></dt>
    <dd>
      <p>
      The initial outbound sequence number that will be requested on the BMC,
      default is <code>16#1337</code>.
      </p>
   </dd>
    <dt><code>{keep_alive_retransmits, non_neg_integer()}</code></dt>
    <dd>
      <p>
      The number of retransmits allowed for session keep_alive requests,
      default is <code>2</code>.
      </p>
   </dd>
    <dt><code>{password, string() with length &lt;= 16bytes}</code></dt>
    <dd>
      <p>
      A password string used for authentication when anonymous login is not
      available, default is <code>""</code>.
      </p>
    </dd>
    <dt><code>{port, inet:port_number()}</code></dt>
    <dd>
      <p>
      The RMCP port the far end is expecting incoming RMCP and IPMI packets,
      default is <code>623</code>.
      </p>
    </dd>
    <dt><code>{privilege, callback | user | operator | administrator}</code></dt>
    <dd>
      <p>
      The requested privilege level for this session, default is
      <code>administrator</code>.
      </p>
    </dd>
    <dt><code>{rq_addr, 16#81..16#8d}</code></dt>
    <dd>
      <p>
      The requestor address used in IPMI lan packages, the default value of
      <code>16#81</code> should be suitable for all common cases.
      </p>
    </dd>
    <dt><code>{timeout, non_neg_integer()}</code></dt>
    <dd>
      <p>
      The timeout for IPMI requests, default is <code>1000ms</code>.
      </p>
    </dd>
    <dt><code>{user, string() with length &lt;= 16bytes}</code></dt>
    <dd>
      <p>
      A user name string used for authentication when neither anonymous nor
      null user login are available, default is <code>""</code>.
      </p>
    </dd>
  </dl></p>

<h3 class="function"><a name="ping-1">ping/1</a></h3>
<div class="spec">
<p><tt>ping(IPAddress::<a href="inet.html#type-ip_address">inet:ip_address()</a> | <a href="inet.html#type-hostname">inet:hostname()</a>) -&gt; pang | pong</tt><br></p>
</div><p>
  Pings a given host using RMCP ping. This can be done to check a device for
  the IPMI capability before opening a session to it. Default receive timeout
  is 5000 milliseconds. Returns <code>pong</code> if the pinged host supports IPMI,
  <code>pang</code> otherwise.</p>
<p><b>See also:</b> <a href="#ping-2">ping/2</a>.</p>

<h3 class="function"><a name="ping-2">ping/2</a></h3>
<div class="spec">
<p><tt>ping(IPAddress::<a href="inet.html#type-ip_address">inet:ip_address()</a> | <a href="inet.html#type-hostname">inet:hostname()</a>, Timeout::timeout()) -&gt; pang | pong</tt><br></p>
</div><p>
  Same as <a href="#ping-1"><code>ping/1</code></a> but allows the specification of a custom receive
  timeout value in milliseconds.</p>

<h3 class="function"><a name="poll_sel-1">poll_sel/1</a></h3>
<div class="spec">
<p><tt>poll_sel(Session::<a href="#type-session">session()</a>) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p><p>
  Will start a dedicated server that polls the system event log using a
  specific session every 500ms. When polling is enabled the SEL will
  periodically be read and all events will be forwarded to the subscribed event
  handlers registered with <a href="#add_handler-2"><code>add_handler/2</code></a> or <a href="#add_sup_handler-3"><code>add_sup_handler/3</code></a>.</p>
 
  The automatic polling can be stopped by shutting down or exiting the returned
  process. The process will exit automatically when its corresponding session
  is closed or has errors.</p>

<h3 class="function"><a name="poll_sel-3">poll_sel/3</a></h3>
<div class="spec">
<p><tt>poll_sel(Session::<a href="#type-session">session()</a>, Interval::non_neg_integer(), Clear::boolean()) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p>
  Basically the same as <a href="#poll_sel-1"><code>poll_sel/1</code></a> but allows the specification of the
  <code>Interval</code> and <code>Clear</code> options. While <code>Interval</code> specifies the minimum
  interval between two consecutive SEL reads the <code>Clear</code> flag indicates whether
  the SEL should be cleared after a read.</p>

<h3 class="function"><a name="raw-4">raw/4</a></h3>
<div class="spec">
<p><tt>raw(Session::<a href="#type-session">session()</a>, NetFn::<a href="#type-req_net_fn">req_net_fn()</a>, Command::0..255, Properties::<a href="proplists.html#type-proplist">proplists:proplist()</a>) -&gt; ok | {ok, <a href="proplists.html#type-proplist">proplists:proplist()</a>} | {error, term()}</tt><br></p>
</div><p>
  Sends a raw IPMI command over a given session. DO NOT USE THIS unless you
  really know what you're doing! The main purpose of this function is to test
  implementations of new request/repsonse pairs.</p>

<h3 class="function"><a name="read_fru-2">read_fru/2</a></h3>
<div class="spec">
<p><tt>read_fru(Session::<a href="#type-session">session()</a>, FruId::0..254) -&gt; {ok, <a href="#type-fru_info">fru_info()</a>} | {error, term()}</tt><br></p>
</div><p>
  Return the FRU inventory data for a specific FRU id. The returned FRU
  information is a property list that does only contain the available and
  checksum error free fields of the inventory. If no FRU data is available for
  a specific id the returned inventory data is the empty list.</p>

<h3 class="function"><a name="read_fru_inventory-2">read_fru_inventory/2</a></h3>
<div class="spec">
<p><tt>read_fru_inventory(Session::<a href="#type-session">session()</a>, SdrRepository::[<a href="eipmi_sdr.html#type-entry">eipmi_sdr:entry()</a>]) -&gt; {ok, <a href="#type-fru_inventory">fru_inventory()</a>} | {error, [term()]}</tt><br></p>
</div><p>
  Return the FRU inventory data for all FRU represented by a FRU Device Locator
  Record in the Sensor Data Record (SDR) Repository.</p>
<p><b>See also:</b> <a href="#read_fru-2">read_fru/2</a>.</p>

<h3 class="function"><a name="read_frus-2">read_frus/2</a></h3>
<div class="spec">
<p><tt>read_frus(Session::<a href="#type-session">session()</a>, FruIds::[0..254]) -&gt; {ok, [<a href="#type-fru_info">fru_info()</a>]} | {error, term()}</tt><br></p>
</div><p>
  Basically the same than <a href="#read_fru-2"><code>read_fru/2</code></a> but allows to read a list of FRU
  ids.</p>
<p><b>See also:</b> <a href="#read_fru-2">read_fru/2</a>.</p>

<h3 class="function"><a name="sdr_to_fru-2">sdr_to_fru/2</a></h3>
<div class="spec">
<p><tt>sdr_to_fru(X1::<a href="#type-sdr">sdr()</a>, SdrRepository::<a href="#type-sdr_repository">sdr_repository()</a>) -&gt; {ok, <a href="#type-sdr">sdr()</a>} | {error, term()}</tt><br></p>
</div><p>
  Returns the FRU Device Locator Record associated with a specific sensor from
  the Sensor Data Record (SDR) repository, if any.</p>

<h3 class="function"><a name="sdr_to_fru-3">sdr_to_fru/3</a></h3>
<div class="spec">
<p><tt>sdr_to_fru(Sdr::<a href="#type-sdr">sdr()</a>, SdrRepository::<a href="#type-sdr_repository">sdr_repository()</a>, FruInventory::<a href="#type-fru_inventory">fru_inventory()</a>) -&gt; {ok, <a href="#type-fru_info">fru_info()</a>} | {error, term()}</tt><br></p>
</div><p>
  Returns the FRU inventory data associated with a specific sensor from the
  Sensor Data Record (SDR) repository, if any.</p>

<h3 class="function"><a name="sel_to_fru-2">sel_to_fru/2</a></h3>
<div class="spec">
<p><tt>sel_to_fru(SelEntry::<a href="#type-sel_entry">sel_entry()</a>, SdrRepository::<a href="#type-sdr_repository">sdr_repository()</a>) -&gt; {ok, <a href="#type-sdr">sdr()</a>} | {error, term()}</tt><br></p>
</div><p>
  Returns the FRU Device Locator Record associated with an entry in the System
  Event Log (SEL), if any.</p>

<h3 class="function"><a name="sel_to_fru-3">sel_to_fru/3</a></h3>
<div class="spec">
<p><tt>sel_to_fru(SelEntry::<a href="#type-sel_entry">sel_entry()</a>, SdrRepository::<a href="#type-sdr_repository">sdr_repository()</a>, FruInventory::<a href="#type-fru_inventory">fru_inventory()</a>) -&gt; {ok, <a href="#type-fru_info">fru_info()</a>} | {error, term()}</tt><br></p>
</div><p>
  Returns the FRU inventory data associated with an entry in the System
  Event Log (SEL), if any.</p>

<h3 class="function"><a name="sel_to_sdr-2">sel_to_sdr/2</a></h3>
<div class="spec">
<p><tt>sel_to_sdr(X1::<a href="#type-sel_entry">sel_entry()</a>, SdrRepository::<a href="#type-sdr_repository">sdr_repository()</a>) -&gt; {ok, <a href="#type-sdr">sdr()</a>} | {error, term()}</tt><br></p>
</div><p>
  Returns the Sensor Data Record (SDR) from the SDR repository associated with
  an entry in the System Event Log (SEL), if any.</p>

<h3 class="function"><a name="set_fru_activation-3">set_fru_activation/3</a></h3>
<div class="spec">
<p><tt>set_fru_activation(Session::<a href="#type-session">session()</a>, FruId::0..254, Activate::boolean()) -&gt; ok | {error, term()}</tt><br></p>
</div><p>
  Will issue a PICMG 'Set FRU Activation' request using the provided session.
  This will power up/down the requested FRU.</p>

<h3 class="function"><a name="set_fru_activation_policy-3">set_fru_activation_policy/3</a></h3>
<div class="spec">
<p><tt>set_fru_activation_policy(Session::<a href="#type-session">session()</a>, FruId::0..254, Flags::[{locked, boolean()} | {deactivation_locked, boolean()}]) -&gt; ok | {error, term()}</tt><br></p>
</div><p>
  Will issue a PICMG 'Set FRU Activation Policy' request using the provided
  session. This can be used to lock FRUs from beeing deactivated or from
  getting reactivated automatically.</p>

<h3 class="function"><a name="set_session_privilege_level-2">set_session_privilege_level/2</a></h3>
<div class="spec">
<p><tt>set_session_privilege_level(Session::<a href="#type-session">session()</a>, Privilege::<a href="#type-privilege">privilege()</a>) -&gt; {ok, [{privilege, <a href="#type-privilege">privilege()</a>}]} | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Set Session Privilege Level' request using the provided
  session. This can be used to change the increase/decrease the privilege level
  of the provided session.</p>

<h3 class="function"><a name="start-0">start/0</a></h3>
<div class="spec">
<p><tt>start() -&gt; ok | {error, [term()]}</tt><br></p>
</div><p>
  Starts the <code>eipmi</code> applications along with all its depdendent applications.
  This function is not intended for normal application startup in an erlang
  release. It exists only for the purpose of instantly creating an <code>eipmi</code>
  playground from the erlang shell.</p>

<h3 class="function"><a name="stats-0">stats/0</a></h3>
<div class="spec">
<p><tt>stats() -&gt; [{sessions, [<a href="#type-session">session()</a>]} | {handlers, [module() | {module(), term()}]}]</tt><br></p>
</div><p>
  Returns statistical information about the currently opened sessions and the
  registered event handlers.</p>

<h3 class="function"><a name="warm_reset-1">warm_reset/1</a></h3>
<div class="spec">
<p><tt>warm_reset(Session::<a href="#type-session">session()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>
  Will issue a 'Warm Reset' request using the provided session. This will
  perform a reset of the connected device!</p>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Apr 15 2013, 15:55:38.</i></p>
</body>
</html>
